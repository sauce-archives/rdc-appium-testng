language: java
install: mvn -DskipTests -Dgpg.skip install
after_success:
- gpg2 --keyring=$TRAVIS_BUILD_DIR/pubring.gpg --no-default-keyring --import deployment/signingkey.asc
- gpg2 --allow-secret-key-import --keyring=$TRAVIS_BUILD_DIR/secring.gpg --no-default-keyring
  --import deployment/signingkey.asc
- mvn clean deploy --settings deployment/settings.xml -Dgpg.publicKeyring=$TRAVIS_BUILD_DIR/pubring.gpg
  -Dgpg.secretKeyring=$TRAVIS_BUILD_DIR/secring.gpg
env:
  global:
  - secure: hmvH+wgi15K9GhRY8qrcAjfNR5yZ6RyX/HUic4+BJzUIbUEzkPyu1ZU9oWY+n88WLsDOrfUP8za2cREopcHk2mDvES76S7zq89APak5tjuRf0sShI0VxZNLDkmFxv0u0Zr4G7LY6aDS1ONyXL5NfdM4PV1tsdvinn0IwhDD75MXEKynH94yp7pGDrvrD77Hzl40+SFjJQvDP3EEVMLn/SKwjJRd0HN9YzLnTg1CqNmJZS9vrnwiInLL9TgfFwN3KNwX/C8IpHkTs5UkROeh1C21GKS1vX1lWwVYbqkLmfX9kNscJE28ynbNvY6HCaqG6MmtGXISCO/052fQ6YhvyV0at2M9xbZniEDl+MxY2DPgtl+aLBi64F0VdGxU6rTFqYr0fZymrtYpmxyCbzPegmrJbV9NhsGl8+q6JMPZZoy9drypojExmoRc38nIyWQK/CXH82T7+q1A5NLEDZjwAbweN4D1aTyQaJtWTzxXcE1QggrNmPsd5GaV8xb0ha3Gu0j+Xsi9rwXu4lkkL+QfKgYu326diVukWZmSzDEskd+xPKCt4BtwMqbyG8iClZD7CDDtT94TO6k9Asdjd1/EGJ5AHKHu7KDa2NyVio1WiEctWOTHXAXflmcDWXmGya8SJNwNUTADEGBwCLBjYcqujCWacgylqch82sPNHwC880F0=
  - secure: tzZz9NlZlq4RlSVTfTfrFKsn9MhoHWaVYR8T8VH6MuRZea2F82E7fyry/AoskeHLWYFPHx6P6wX2NFOveLJjppRZNjO4hlsqmY630S2FoNge9XBozWJCpWKYWCEtGhu1c4gglKExnxlPcss9iWEcWf7UAT2VFjfhNDdj98OAm+vYWDDclJWQYDvj+/LufURiJomZz/OOrWDtca2+Ze9T+MdY3nfMS5mnE7kLUR3ImPvJwNTXoWSyZGVquZolj9EffxuunaU4GwoH6fUyV1AP1IOKwIhj3She8mC4Tmh9xdH/lrHsiXqgV3zpB97PV8ViJ/Gt0T38YSoXutCQvmk/fos1eiUY88jpdTa87PC/pIHqNFSXNZs13icab9DZiZ+M+akCpHBfRlm+DyOY4UNkqMqP6CkpuOPfg1VVK8RMq7w3dKN2a1u3GXx8SpaXeRU++XEbVddrFYSf/+gjI7G1kAMrE7FJtKOhXxcO2J6rrFpmtf+sQgesIdAKVF+DdZ23faOlHnuraVsiayoeQVrLZ1GOzBdluGpy1moWZSiB90FpiuMP/B9VDdGCFB2h9VknAyRLIfi9UQqikW39B/KLLqw/Zf9Usx90+HhFUO2Lk5qwQK86NCbF8UvDm26n+tgQuUHcWbHrsr0z6rlzDeF7lHVjHwW0Q99mXdLFZTp+Smw=
  - secure: K/x+pKRzEtbcMqVbmHB6f+MOv+HainccjoyonfQVsDanaod55n6cq9kU5ZlfEIQF/7XVJDsgdT4wPwbrK32csM8bUMOdrtZzScdbEGBUYiCUAjDL60XrkvcbopcXQnWE2KMZW3WBr0w5mubZ26yvm9oxU6kB9siovj0kzzgS/ib/AdmmzgXfJ6NSKFiFC2P5diOi78imPrR1lMKysE/YnnFEj6+0Xouqx+zQjAohOlVSdPyfC5mmJUYFpvdXVj9aTdnu/uRkBTkezdVvEPl2cB7CKYPfCCihBE52mdz6/luUHYkFl/tXcIpIQSGelWM4S3auJgX43QJWzdsaPXxgZBB19tSg45OurzDsw3aG/FuUrIMnUVtdUFMXAwTRDLwdlKTlU8Inzyt0pSsGQTzt3HXijjlHDHKXAQATEmRGJ1f3sNbc5zL3kvMpdGx+Y2O0jTZQfC05GvNhNVj6VslVQcP5l2WKKtfD8YqLqw4GgZ253rOVp21MdfLRK2arcbLmdvnZo/D1B8pHADb4MGTS/ljMHZGE3DxKdW1wOH1+AB3XWkDlqu2s5OhbcaObmOIvVOtjn+LGaqwHEncmD9Wf75LLbOifPyI+g2S6VVuz6UvuaV0ipUUB4pMIZY3Vd11Ra6p/s6jc97lCnaoVw46C/SXIpu08CpjtyEyr9JqItVA=
before_install:
- openssl aes-256-cbc -K $encrypted_ffc27a626e0d_key -iv $encrypted_ffc27a626e0d_iv
  -in deployment/signingkey.asc.enc -out deployment/signingkey.asc -d
branches:
  only:
  - master
